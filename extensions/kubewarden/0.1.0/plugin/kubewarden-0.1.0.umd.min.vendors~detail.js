(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_0"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_0"]||[]).push([[25],{"0cb2":function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:{"side-tabs":!!e.sideTabs,"tabs-only":e.tabsOnly}},[a("ul",{ref:"tablist",staticClass:"tabs",class:{clearfix:!e.sideTabs,vertical:e.sideTabs,horizontal:!e.sideTabs},attrs:{role:"tablist",tabindex:"0"},on:{keydown:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"right",39,t.key,["Right","ArrowRight"])||"button"in t&&2!==t.button?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.selectNext(-1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.selectNext(1))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.selectNext(-1))}]}},[e._l(e.sortedTabs,(function(t){return a("li",{key:t.name,class:{tab:!0,active:t.active,disabled:t.disabled,error:t.error},attrs:{id:t.name,role:"presentation"}},[a("a",{attrs:{"aria-controls":"#"+t.name,"aria-selected":t.active,role:"tab"},on:{click:function(a){return a.preventDefault(),e.select(t.name,a)}}},[a("span",[e._v(e._s(t.labelDisplay))]),t.badge?a("span",{staticClass:"tab-badge"},[e._v(e._s(t.badge))]):e._e(),e.hasIcon(t)?a("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:e.t("validation.tab"),expression:"t('validation.tab')"}],staticClass:"conditions-alert-icon icon-error icon-lg"}):e._e()])])})),e.sideTabs&&!e.sortedTabs.length?a("li",{staticClass:"tab disabled"},[a("a",{attrs:{href:"#"},on:{click:function(e){e.preventDefault()}}},[e._v("(None)")])]):e._e(),e.sideTabs&&e.showTabsAddRemove?a("ul",{staticClass:"tab-list-footer"},[a("li",[a("button",{staticClass:"btn bg-transparent",attrs:{type:"button"},on:{click:e.tabAddClicked}},[a("i",{staticClass:"icon icon-plus icon-lg"})]),a("button",{staticClass:"btn bg-transparent",attrs:{type:"button",disabled:!e.sortedTabs.length},on:{click:e.tabRemoveClicked}},[a("i",{staticClass:"icon icon-minus icon-lg"})])])]):e._e(),e._t("tab-row-extras")],2),a("div",{class:{"tab-container":!!e.tabs.length||!!e.sideTabs,"no-content":e.noContent}},[e._t("default")],2)])},s=[],n=a("a1d8"),o=a.n(n),i=a("330a"),l=a.n(i),d=a("bddd"),c=a("1d19"),u=a("1659"),p=a.n(u),b={name:"Tabbed",props:{defaultTab:{type:String,default:null},sideTabs:{type:Boolean,default:!1},showTabsAddRemove:{type:Boolean,default:!1},scrollOnChange:{type:Boolean,default:!1},useHash:{type:Boolean,default:!0},noContent:{type:Boolean,default:!1},tabsOnly:{type:Boolean,default:!1}},provide(){const e=this.tabs;return{sideTabs:this.sideTabs,addTab(t){const a=Object(d["e"])(e,"name",t.name);a&&Object(d["i"])(e,a),Object(d["a"])(e,t)},removeTab(t){Object(d["i"])(e,t)}}},data(){return{tabs:[],activeTabName:null}},computed:{sortedTabs(){return Object(c["a"])(this.tabs,["weight:desc","labelDisplay","name"])}},watch:{sortedTabs(e){const{defaultTab:t,useHash:a,$route:{hash:r}}=this,s=e.find(e=>e.active),n=r.slice(1),i=e.find(e=>e.name===n&&!e.active),d=o()(e)||null;l()(s)?a&&!l()(i)?this.select(i.name):l()(t)||l()(e.find(e=>e.name===t))?null!==d&&void 0!==d&&d.name&&this.select(d.name):this.select(t):a&&(null===s||void 0===s?void 0:s.name)===n&&this.select(s.name)}},mounted(){this.useHash&&window.addEventListener("hashchange",this.hashChange)},unmounted(){this.useHash&&window.removeEventListener("hashchange",this.hashChange)},methods:{hasIcon(e){return e.displayAlertIcon||e.error&&!e.active},hashChange(){if(!this.scrollOnChange){const e=document.getElementsByTagName("main")[0];e&&(e.scrollTop=0)}this.select(this.$route.hash)},find(e){return this.sortedTabs.find(t=>t.name===e)},select(e){const{sortedTabs:t,$route:{hash:a},$router:{currentRoute:r}}=this,s=this.find(e),n="#"+e;if(s&&!s.disabled){if(this.useHash&&a!==n){const e={...r};e.hash=n,this.$router.replace(e)}for(const e of t)e.active=e.name===s.name;this.$emit("changed",{tab:s,selectedName:s.name}),this.activeTabName=s.name}},selectNext(e){const{sortedTabs:t}=this,a=t.findIndex(e=>e.active),r=n(a,e,t.length),s=t[r].name;function n(e,t,a){const r=e+t;return r>=a?0:r<=0?a-1:r}this.select(s),this.$nextTick(()=>{this.$refs.tablist.focus()})},tabAddClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("addTab",e)},tabRemoveClicked(){const e=p()(this.tabs,e=>e.active);this.$emit("removeTab",e)}}},h=b,v=(a("36df"),a("d802")),f=Object(v["a"])(h,r,s,!1,null,"57048758",null);t["a"]=f.exports},1489:function(e,t,a){"use strict";a("94bd")},"28b4":function(e,t,a){"use strict";a("6af0")},"305c":function(e,t,a){"use strict";var r=a("da25"),s=a("cd6d");t["a"]={...s["a"],props:{mode:{type:String,default:r["w"]},realMode:{type:String,default:r["w"]},as:{type:String,default:r["D"]},value:{type:Object,required:!0},initialValue:{type:Object,default:null},liveValue:{type:Object,default:null},doneEvent:{type:Boolean,default:!1}}}},"36df":function(e,t,a){"use strict";a("fb7d")},"3a78":function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-57048758]:after,.clearfix[data-v-57048758]:before{content:" ";display:table}.clearfix[data-v-57048758]:after{clear:both}.list-unstyled[data-v-57048758]{margin:0;padding:0;list-style-type:none}.no-select[data-v-57048758]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-57048758]{resize:none}.hand[data-v-57048758]{cursor:pointer;cursor:hand}.fixed[data-v-57048758]{table-layout:fixed}.clip[data-v-57048758]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-57048758],.force-wrap[data-v-57048758]{word-wrap:break-word}.force-wrap[data-v-57048758]{white-space:normal}.bordered-section[data-v-57048758]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-57048758]{margin-bottom:20px;margin-top:20px}.tabs[data-v-57048758]{list-style-type:none;margin:0;padding:0}.tabs.horizontal[data-v-57048758]{border:solid thin var(--border);border-bottom:0;display:flex;flex-direction:row}.tabs.horizontal+.tab-container[data-v-57048758]{border:solid thin var(--border)}.tabs.horizontal .tab.active[data-v-57048758]{border-bottom:solid 2px var(--primary)}.tabs[data-v-57048758]:focus{outline:none}.tabs:focus .tab.active a span[data-v-57048758]{text-decoration:underline}.tabs .tab[data-v-57048758]{position:relative;float:left;padding:0 8px 0 0;cursor:pointer}.tabs .tab A[data-v-57048758]{display:flex;align-items:center;padding:10px 15px}.tabs .tab A[data-v-57048758]:hover{text-decoration:none}.tabs .tab A:hover span[data-v-57048758]{text-decoration:underline}.tabs .tab .conditions-alert-icon[data-v-57048758]{color:var(--error);padding-left:4px}.tabs .tab[data-v-57048758]:last-child{padding-right:0}.tabs .tab.active>A[data-v-57048758]{color:var(--primary);text-decoration:none}.tabs .tab.error A>i[data-v-57048758]{color:var(--error)}.tabs .tab .tab-badge[data-v-57048758]{margin-left:5px;background-color:var(--link);color:#fff;border-radius:6px;padding:1px 7px;font-size:11px}.tab-container[data-v-57048758]{padding:20px}.tab-container.no-content[data-v-57048758]{padding:0 0 3px 0}.tabs-only[data-v-57048758]{margin-bottom:20px}.tabs-only .tab-container[data-v-57048758]{display:none}.tabs-only .tabs[data-v-57048758]{border:0;border-bottom:2px solid var(--border)}.side-tabs[data-v-57048758]{display:flex;box-shadow:0 0 20px var(--shadow);border-radius:calc(var(--border-radius)*2);background-color:var(--tabbed-sidebar-bg)}.side-tabs .tab-container[data-v-57048758]{padding:20px}.tab-container .side-tabs[data-v-57048758]{box-shadow:unset}.side-tabs .tabs[data-v-57048758]{width:200px;min-width:200px;display:flex;flex:1 0;flex-direction:column}.side-tabs .tabs .tab[data-v-57048758]{width:100%;border-left:5px solid transparent}.side-tabs .tabs .tab.toggle A[data-v-57048758],.side-tabs .tabs .tab A[data-v-57048758]{color:var(--primary)}.side-tabs .tabs .tab.active[data-v-57048758]{background-color:var(--body-bg);border-left:solid 5px var(--primary)}.side-tabs .tabs .tab.active A[data-v-57048758]{color:var(--input-label)}.side-tabs .tabs .tab.disabled[data-v-57048758]{background-color:var(--disabled-bg)}.side-tabs .tabs .tab.disabled A[data-v-57048758]{color:var(--disabled-text);text-decoration:none}.side-tabs .tabs .tab-list-footer[data-v-57048758]{list-style:none;padding:0;margin-top:auto}.side-tabs .tabs .tab-list-footer li[data-v-57048758]{display:flex;flex:1}.side-tabs .tabs .tab-list-footer li .btn[data-v-57048758]{flex:1 1;display:flex;justify-content:center}.side-tabs .tabs .tab-list-footer li button[data-v-57048758]:first-of-type{border-top:solid 1px var(--border);border-right:solid 1px var(--border);border-top-right-radius:0}.side-tabs .tabs .tab-list-footer li button[data-v-57048758]:last-of-type{border-top:solid 1px var(--border);border-top-left-radius:0}.side-tabs .tab-container[data-v-57048758]{width:calc(100% - 200px);flex-grow:1;background-color:var(--body-bg)}',""]),e.exports=t},"6af0":function(e,t,a){var r=a("d573");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("c2e72aa2",r,!0,{sourceMap:!1,shadowMode:!1})},"94bd":function(e,t,a){var r=a("e013");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("8f8df26c",r,!0,{sourceMap:!1,shadowMode:!1})},a1d8:function(e,t){function a(e){return e&&e.length?e[0]:void 0}e.exports=a},a246:function(e,t,a){"use strict";a("f846")},b45b:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return o}));var r=a("f390"),s=a("4048");function n(e,t,a){const r=Object(s["c"])(e),n="local"===t?"":"/k8s/clusters/"+t;let o=`${n}${r.path}`;return r.query.viewPanel&&(o=Object(s["a"])(o,"viewPanel",r.query.viewPanel)),o=Object(s["a"])(o,"orgId",r.query.orgId),o=Object(s["a"])(o,"kiosk",null),Object.entries(a).forEach(e=>{o=Object(s["a"])(o,e[0],e[1])}),o}async function o(e,t,a,n="cluster"){if(!Object(r["c"])(e.getters))return!1;const o=Object(s["c"])(a),i="local"===t?"":"/k8s/clusters/"+t,l=i+"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/",d="http:rancher-monitoring-grafana:80/proxy/",c=o.path.split(d)[1],u=c.split("/")[1],p=`${l}api/dashboards/uid/${u}`;try{return await e.dispatch(n+"/request",{url:p,redirectUnauthorized:!1}),!0}catch(b){return!1}}},c389:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"dashboard-metrics",class:!e.hasSummaryAndDetail&&"external-link-pull-left"},[a("div",{staticClass:"graph-options mb-10"},[a("DashboardOptions",{attrs:{"has-summary-and-detail":e.hasSummaryAndDetail},model:{value:e.graphOptions,callback:function(t){e.graphOptions=t},expression:"graphOptions"}})],1),a("div",{staticClass:"info"},[e._t("default")],2),a("div",{staticClass:"graphs",style:{height:e.graphHeight}},["detail"===e.graphOptions.type?a("GrafanaDashboard",{staticClass:"col span-12 detail",attrs:{"background-color":e.graphBackgroundColor,theme:e.theme,"refresh-rate":e.graphOptions.refreshRate,range:e.graphOptions.range,url:e.detailUrl,vars:e.vars}}):a("GrafanaDashboard",{staticClass:"col span-12 summary",attrs:{"background-color":e.graphBackgroundColor,theme:e.theme,"refresh-rate":e.graphOptions.refreshRate,range:e.graphOptions.range,url:e.summaryUrl,vars:e.vars}})],1)])},s=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"graph-options"},[e.hasSummaryAndDetail?a("div",[a("ButtonGroup",{attrs:{options:e.detailSummaryOptions},model:{value:e.value.type,callback:function(t){e.$set(e.value,"type",t)},expression:"value.type"}})],1):a("div",[a("div")]),a("div",{staticClass:"range-refresh"},[a("LabeledSelect",{attrs:{options:e.rangeOptions,label:e.t("graphOptions.range")},model:{value:e.value.range,callback:function(t){e.$set(e.value,"range",t)},expression:"value.range"}}),a("LabeledSelect",{attrs:{options:e.refreshOptions,label:e.t("graphOptions.refresh")},model:{value:e.value.refreshRate,callback:function(t){e.$set(e.value,"refreshRate",t)},expression:"value.refreshRate"}})],1)])},o=[],i=a("cc2d"),l=a("466b"),d={components:{ButtonGroup:i["a"],LabeledSelect:l["a"]},props:{value:{type:Object,required:!0},hasSummaryAndDetail:{type:Boolean,default:!0}},data(){return{range:null,rangeOptions:[{label:this.t("generic.units.time.5m"),value:"5m"},{label:this.t("generic.units.time.1h"),value:"1h"},{label:this.t("generic.units.time.6h"),value:"6h"},{label:this.t("generic.units.time.1d"),value:"1d"},{label:this.t("generic.units.time.7d"),value:"7d"},{label:this.t("generic.units.time.30d"),value:"30d"}],refreshOptions:[{label:this.t("generic.units.time.5s"),value:"5s"},{label:this.t("generic.units.time.10s"),value:"10s"},{label:this.t("generic.units.time.30s"),value:"30s"},{label:this.t("generic.units.time.1m"),value:"1m"},{label:this.t("generic.units.time.5m"),value:"5m"},{label:this.t("generic.units.time.15m"),value:"15m"},{label:this.t("generic.units.time.30m"),value:"30m"},{label:this.t("generic.units.time.1h"),value:"1h"},{label:this.t("generic.units.time.2h"),value:"2h"},{label:this.t("generic.units.time.1d"),value:"1d"}],detailSummaryOptions:[{label:this.t("graphOptions.detail"),value:"detail"},{label:this.t("graphOptions.summary"),value:"summary"}]}}},c=d,u=(a("28b4"),a("d802")),p=Object(u["a"])(c,n,o,!1,null,"4aa7b084",null),b=p.exports,h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"grafana-graph"},[e.error?a("Banner",{staticStyle:{"z-index":"1000"},attrs:{color:"error"}},[a("div",{staticClass:"text-center"},[e._v(" "+e._s(e.t("grafanaDashboard.failedToLoad"))+" "),a("a",{attrs:{href:"#"},on:{click:e.reload}},[e._v(e._s(e.t("grafanaDashboard.reload")))])])]):e._e(),a("iframe",{directives:[{name:"show",rawName:"v-show",value:!e.error,expression:"!error"}],ref:"frame",class:{loading:e.loading,frame:!0},attrs:{src:e.initialUrl,frameborder:"0",scrolling:"no"}}),e.loading?a("div",[a("Loading")],1):e._e(),e.loading||e.error?e._e():a("div",{staticClass:"external-link"},[a("a",{attrs:{href:e.grafanaUrl,target:"_blank",rel:"noopener noreferrer nofollow"}},[e._v(e._s(e.t("grafanaDashboard.grafana"))+" "),a("i",{staticClass:"icon icon-external-link"})])])],1)},v=[],f=a("15ca"),m=a("6418"),g=a("b45b"),y={components:{Banner:m["a"],Loading:f["a"]},props:{url:{type:String,required:!0},vars:{type:Object,default:()=>({})},range:{type:String,default:null},refreshRate:{type:String,default:null},backgroundColor:{type:String,default:"#1b1c21"},theme:{type:String,default:"dark"}},data(){return{loading:!1,error:!1,interval:null,initialUrl:this.computeUrl(),errorTimer:null}},computed:{currentUrl(){return this.computeUrl()},grafanaUrl(){return this.currentUrl.replace("&kiosk","")},graphWindow(){var e;return null===(e=this.$refs.frame)||void 0===e?void 0:e.contentWindow},graphHistory(){var e;return null===(e=this.graphWindow)||void 0===e?void 0:e.history},graphDocument(){var e;return null===(e=this.graphWindow)||void 0===e?void 0:e.document}},watch:{currentUrl(){var e;if(this.graphHistory&&null!==(e=this.graphWindow)&&void 0!==e&&e.angular){const e=this.graphWindow.angular.element(this.graphDocument.querySelector(".grafana-app")),t=e.injector();this.graphHistory.pushState({},"",this.currentUrl),t.get("$route").updateParams(this.computeParams()),t.get("$route").reload()}},error(e){e?this.errorTimer=setInterval(()=>{this.reload()},45e3):(clearInterval(this.errorTimer),this.errorTimer=null)}},mounted(){this.$refs.frame.onload=this.inject,this.poll()},beforeDestroy(){this.interval&&clearInterval(this.interval),this.errorTimer&&clearInterval(this.errorTimer)},methods:{poll(){this.interval&&(clearInterval(this.interval),this.interval=null),this.interval=setInterval(()=>{try{var e;const t=null===(e=this.$refs.frame)||void 0===e?void 0:e.contentWindow,a=t.document.getElementsByClassName("alert-error"),r=t.document.getElementsByClassName("panel-info-corner--error"),s=t.document.getElementsByClassName("panel-in-fullscreen"),n=t.document.getElementsByClassName("panel-container"),o=a.length>0||r.length>0,i=s.length>0||n.length>0,l=t.document.getElementsByTagName("pre"),d=l.length>0?l[0].innerText:"",c=d.includes('"status": "Failure"');if(o)throw new Error("An error was detected in the iframe");this.$set(this,"loading",!i),this.$set(this,"error",c)}catch(t){this.$set(this,"error",!0),this.$set(this,"loading",!1),clearInterval(this.interval),this.interval=null}},100)},computeFromTo(){return{from:"now-"+this.range,to:"now"}},computeUrl(){const e=this.url,t=this.$store.getters["currentCluster"].id,a=this.computeParams();return Object(g["a"])(e,t,a)},computeParams(){const e={},t=this.computeFromTo();return t.from&&(e.from=t.from),t.to&&(e.to=t.to),this.refreshRate&&(e.refresh=this.refreshRate),Object.keys(this.vars).length>0&&Object.entries(this.vars).forEach(t=>{const a="var-"+t[0];e[a]=t[1]}),e.theme=this.theme,e},reload(e){e&&e.preventDefault(),this.$refs.frame.contentWindow.location.reload(),this.poll()},injectCss(){var e;const t=document.createElement("style");t.innerHTML=`\n        body .grafana-app .dashboard-content {\n          background: ${this.backgroundColor};\n          padding: 0;\n        }\n\n        body .grafana-app .layout {\n          background: ${this.backgroundColor};\n        }\n\n\n        body .grafana-app .dashboard-content .panel-container {\n          background-color: initial;\n          border: none;\n        }\n\n        body .grafana-app .dashboard-content .panel-wrapper {\n          height: 100%;\n        }\n\n        body .grafana-app .panel-menu-container {\n          display: none;\n        }\n\n        body .grafana-app .panel-title {\n          cursor: default;\n        }\n\n        body .grafana-app .panel-title .panel-title-text div {\n          display: none;\n        }\n      `;const a=null===(e=this.$refs.frame)||void 0===e?void 0:e.contentWindow,r=null===a||void 0===a?void 0:a.document;r.head&&r.head.appendChild(t)},inject(){this.injectCss()}}},x=y,w=(a("1489"),Object(u["a"])(x,h,v,!1,null,"6853a6e8",null)),k=w.exports,T=a("9ce4"),O={components:{DashboardOptions:b,GrafanaDashboard:k},props:{detailUrl:{type:String,required:!0},summaryUrl:{type:String,default:""},vars:{type:Object,default:()=>({})},graphHeight:{type:String,required:!0},hasSummaryAndDetail:{type:Boolean,default:!0}},data(){return{graphOptions:{range:"5m",refreshRate:"30s",type:"detail"}}},computed:{...Object(T["a"])(["prefs/theme"]),graphBackgroundColor(){return"dark"===this.theme?"#2e3035":"#f3f4f9"},theme(){return this["prefs/theme"]}}},_=O,C=(a("a246"),Object(u["a"])(_,r,s,!1,null,"0d2267c9",null));t["a"]=C.exports},c422:function(e,t,a){"use strict";var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabbed",e._b({attrs:{"default-tab":e.defaultTab},on:{changed:e.tabChange}},"Tabbed",e.$attrs,!1),[e._t("default"),e.showConditions?a("Tab",{attrs:{"label-key":"resourceTabs.conditions.tab",name:"conditions",weight:-1,"display-alert-icon":e.conditionsHaveIssues}},[a("Conditions",{attrs:{value:e.value}})],1):e._e(),e.showEvents?a("Tab",{attrs:{"label-key":"resourceTabs.events.tab",name:"events",weight:-2}},["events"===e.selectedTab?a("SortableTable",{attrs:{rows:e.events,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,"default-sort-by":"date"}}):e._e()],1):e._e(),e.showRelated?a("Tab",{attrs:{name:"related","label-key":"resourceTabs.related.tab",weight:-3}},[a("h3",{directives:[{name:"t",rawName:"v-t",value:"resourceTabs.related.from",expression:"'resourceTabs.related.from'"}]}),a("RelatedResources",{attrs:{"ignore-types":[e.value.type],value:e.value,direction:"from"}}),a("h3",{directives:[{name:"t",rawName:"v-t",value:"resourceTabs.related.to",expression:"'resourceTabs.related.to'"}],staticClass:"mt-20"}),a("RelatedResources",{attrs:{"ignore-types":[e.value.type],value:e.value,direction:"to"}})],1):e._e()],2)},s=[],n=a("0cb2"),o=a("38de"),i=a("305c"),l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("SortableTable",{attrs:{headers:e.headers,rows:e.rows,"key-field":"condition","default-sort-by":"condition","table-actions":!1,"row-actions":!1,search:!1},scopedSlots:e._u([{key:"cell:condition",fn:function(t){var r=t.row;return[a("span",{class:{"text-error":r.error}},[e._v(e._s(r.condition))])]}},{key:"cell:status",fn:function(t){var r=t.row;return[a("span",{class:{"text-error":r.error}},[e._v(e._s(r.status))])]}}])})},d=[],c=a("0fb1"),u={components:{SortableTable:c["b"]},props:{value:{type:Object,default:()=>({})}},computed:{headers(){return[{name:"condition",labelKey:"tableHeaders.condition",value:"condition",width:150,sort:"condition",dashIfEmpty:!0},{name:"status",labelKey:"tableHeaders.status",value:"status",width:75,sort:"status",dashIfEmpty:!0},{name:"time",labelKey:"tableHeaders.updated",value:"time",sort:"time",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125,dashIfEmpty:!0},{name:"message",labelKey:"tableHeaders.message",value:"message",sort:["message"],dashIfEmpty:!0}]},rows(){var e;return((null===(e=this.value.status)||void 0===e?void 0:e.conditions)||[]).map(e=>{let t=e.message||"";return e.reason&&(t=`[${e.reason}] ${t}`.trim()),{condition:e.type||"Unknown",status:e.status||"Unknown",error:e.error,time:e.lastProbeTime||e.lastUpdateTime||e.lastTransitionTime,message:t}})}}},p=u,b=a("d802"),h=Object(b["a"])(p,l,d,!1,null,null,null),v=h.exports,f=a("907c"),m=a("da25"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ResourceTable",{attrs:{schema:null,rows:e.rows,headers:e.headers,search:!1,"table-actions":!1,namespaced:!0,"mangle-action-resources":e.getRealResources,"paging-label":"sortableTable.paging.generic",groupable:!1},scopedSlots:e._u([{key:"cell:state",fn:function(e){var t=e.row;return[t.real?a("BadgeState",{attrs:{value:t.real}}):a("BadgeState",{attrs:{value:t}})]}}])})},y=[],x=a("126f"),w=a("9c09"),k=a("462f"),T=a("1d19"),O=a("bcb3"),_=a("f17a"),C={components:{ResourceTable:x["a"],BadgeState:_["a"]},props:{value:{type:Object,required:!0},rel:{type:String,default:null},direction:{type:String,default:"to"},ignoreTypes:{type:Array,default:()=>[]}},data(){return{loadedResources:1}},computed:{filteredRelationships(){var e,t;let a=(null===(e=this.value)||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.relationships)||[];return a=a.filter(e=>{const t=e[this.direction+"Type"];return!(!t||this.ignoreTypes.includes(t))&&(!this.rel||e.rel===this.rel)}),a},rows(){if(this.loadedResources<1)return;const e=this.$store.getters["clusterId"],t=this.$store.getters["currentStore"](),a=[];for(const r of this.filteredRelationships){const s=r.state||"active",n=Object(w["b"])(s,r.error,r.transitioning),o=r[this.direction+"Type"],i=this.$store.getters[t+"/schemaFor"](o);let l=r[this.direction+"Id"];if(!l)continue;let d=null;const c=l.indexOf("/"),u=`${o}/${d}/${l}`;c>0&&(d=l.substr(0,c),l=l.substr(c+1));const p={name:`c-cluster-product-resource${d?"-namespace":""}-id`,params:{product:O["a"],cluster:"management"===t?"local":e,resource:o,namespace:d,id:l}};a.push({type:o,real:this.$store.getters[t+"/byId"](o,r[this.direction+"Id"]),id:r[this.direction+"Id"],state:s,metadata:{namespace:d,name:l},_key:u,name:l,namespace:d,nameDisplay:l,nameSort:Object(T["b"])(l).toLowerCase(),stateColor:n,detailLocation:p,typeDisplay:this.$store.getters["type-map/labelFor"](i),stateDisplay:Object(w["d"])(s),stateBackground:n.replace("text-","bg-"),groupByLabel:d})}return a},headers(){return[k["A"],k["F"],k["o"],k["p"]]}},methods:{async getRealResources(e){const t=this.$store.getters["currentStore"](),a=await Promise.allSettled(e.map(e=>this.$store.dispatch(t+"/find",{type:e.type,id:e.id}))),r=[];for(let s=0;s<a.length;s++)"fulfilled"===a[s].status&&r.push(a[s].value);return this.loadedResources++,r}}},$=C,S=Object(b["a"])($,g,y,!1,null,null,null),j=S.exports,E={name:"ResourceTabs",components:{Tabbed:n["a"],Tab:o["a"],Conditions:v,SortableTable:c["b"],RelatedResources:j},mixins:[i["a"]],props:{value:{type:Object,default:()=>({})},mode:{type:String,default:m["C"]},defaultTab:{type:String,default:null},needConditions:{type:Boolean,default:!0},needEvents:{type:Boolean,default:!0},needRelated:{type:Boolean,default:!0},alwaysShowEvents:{type:Boolean,default:!1}},data(){const e=this.$store.getters["currentStore"](f["f"]);return{hasEvents:this.$store.getters[e+"/schemaFor"](f["f"]),allEvents:[],selectedTab:this.defaultTab,didLoadEvents:!1}},beforeDestroy(){this.$store.dispatch("cluster/forgetType",f["f"])},computed:{showConditions(){const e=this.$store.getters["currentStore"](this.value.type);var t;return!!this.$store.getters[e+"/schemaFor"](this.value.type)&&(this.isView&&this.needConditions&&(null===(t=this.value)||void 0===t?void 0:t.type)&&this.$store.getters[e+"/pathExistsInSchema"](this.value.type,"status.conditions"))},showEvents(){return this.isView&&this.needEvents&&this.hasEvents&&(this.events.length||this.alwaysShowEvents)},showRelated(){return this.isView&&this.needRelated},eventHeaders(){return[{name:"type",label:this.t("tableHeaders.type"),value:"eventType",sort:"eventType"},{name:"reason",label:this.t("tableHeaders.reason"),value:"reason",sort:"reason"},{name:"date",label:this.t("tableHeaders.updated"),value:"date",sort:"date:desc",formatter:"LiveDate",formatterOpts:{addSuffix:!0},width:125},{name:"message",label:this.t("tableHeaders.message"),value:"message",sort:"message"}]},events(){return this.allEvents.filter(e=>{var t,a,r;return(null===(t=e.involvedObject)||void 0===t?void 0:t.uid)===(null===(a=this.value)||void 0===a||null===(r=a.metadata)||void 0===r?void 0:r.uid)}).map(e=>({reason:`${e.reason||this.t("generic.unknown")}${e.count>1?` (${e.count})`:""}`.trim(),message:e.message||this.t("generic.unknown"),date:e.lastTimestamp||e.firstTimestamp||e.metadata.creationTimestamp,eventType:e.eventType}))},conditionsHaveIssues(){var e,t;return!!this.showConditions&&(null===(e=this.value.status)||void 0===e||null===(t=e.conditions)||void 0===t?void 0:t.some(e=>e.error))}},methods:{tabChange(e){if(this.selectedTab=null===e||void 0===e?void 0:e.selectedName,!this.didLoadEvents&&"events"===this.selectedTab){const e=this.$store.getters["currentStore"](f["f"]);this.$store.dispatch(e+"/findAll",{type:f["f"]}).then(e=>{this.allEvents=e,this.didLoadEvents=!0})}}}},R=E,D=Object(b["a"])(R,r,s,!1,null,null,null);t["a"]=D.exports},d573:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-4aa7b084]:after,.clearfix[data-v-4aa7b084]:before{content:" ";display:table}.clearfix[data-v-4aa7b084]:after{clear:both}.list-unstyled[data-v-4aa7b084]{margin:0;padding:0;list-style-type:none}.no-select[data-v-4aa7b084]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-4aa7b084]{resize:none}.hand[data-v-4aa7b084]{cursor:pointer;cursor:hand}.fixed[data-v-4aa7b084]{table-layout:fixed}.clip[data-v-4aa7b084]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-4aa7b084],.force-wrap[data-v-4aa7b084]{word-wrap:break-word}.force-wrap[data-v-4aa7b084]{white-space:normal}.bordered-section[data-v-4aa7b084]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-4aa7b084]{margin-bottom:20px;margin-top:20px}.graph-options[data-v-4aa7b084],.graph-options .range-refresh[data-v-4aa7b084]{display:flex;flex-direction:row;justify-content:flex-end}.graph-options[data-v-4aa7b084]{justify-content:space-between;align-items:center}.graph-options .labeled-select[data-v-4aa7b084]{width:100px;margin-left:10px}',""]),e.exports=t},e013:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-6853a6e8]:after,.clearfix[data-v-6853a6e8]:before{content:" ";display:table}.clearfix[data-v-6853a6e8]:after{clear:both}.list-unstyled[data-v-6853a6e8]{margin:0;padding:0;list-style-type:none}.no-select[data-v-6853a6e8]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-6853a6e8]{resize:none}.hand[data-v-6853a6e8]{cursor:pointer;cursor:hand}.fixed[data-v-6853a6e8]{table-layout:fixed}.clip[data-v-6853a6e8]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-6853a6e8],.force-wrap[data-v-6853a6e8]{word-wrap:break-word}.force-wrap[data-v-6853a6e8]{white-space:normal}.bordered-section[data-v-6853a6e8]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-6853a6e8]{margin-bottom:20px;margin-top:20px}.grafana-graph[data-v-6853a6e8]{position:relative;min-height:100%;min-width:100%}.grafana-graph[data-v-6853a6e8]  .content{position:relative;display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%;padding:0}.grafana-graph[data-v-6853a6e8]  .overlay{position:static;background-color:initial}.grafana-graph iframe[data-v-6853a6e8]{position:absolute;left:0;right:0;top:20px;bottom:0;width:100%;height:100%;overflow:hidden}.grafana-graph iframe.loading[data-v-6853a6e8]{visibility:hidden}',""]),e.exports=t},f846:function(e,t,a){var r=a("f8f4");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("ff1d58e6",r,!0,{sourceMap:!1,shadowMode:!1})},f8f4:function(e,t,a){var r=a("5eaa");t=r(!1),t.push([e.i,'.clearfix[data-v-0d2267c9]:after,.clearfix[data-v-0d2267c9]:before{content:" ";display:table}.clearfix[data-v-0d2267c9]:after{clear:both}.list-unstyled[data-v-0d2267c9]{margin:0;padding:0;list-style-type:none}.no-select[data-v-0d2267c9]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-0d2267c9]{resize:none}.hand[data-v-0d2267c9]{cursor:pointer;cursor:hand}.fixed[data-v-0d2267c9]{table-layout:fixed}.clip[data-v-0d2267c9]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-0d2267c9],.force-wrap[data-v-0d2267c9]{word-wrap:break-word}.force-wrap[data-v-0d2267c9]{white-space:normal}.bordered-section[data-v-0d2267c9]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-0d2267c9]{margin-bottom:20px;margin-top:20px}.dashboard-metrics[data-v-0d2267c9]  .external-link{position:absolute;left:200px;top:-45px}.dashboard-metrics[data-v-0d2267c9]  .frame{top:0}.dashboard-metrics.external-link-pull-left[data-v-0d2267c9]  .external-link{position:absolute;left:10px;top:-45px}',""]),e.exports=t},fb7d:function(e,t,a){var r=a("3a78");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=a("0ed3").default;s("a6839f10",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=kubewarden-0.1.0.umd.min.vendors~detail.js.map