(("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_1"]=("undefined"!==typeof self?self:this)["webpackJsonpkubewarden_0_1_1"]||[]).push([[0],{"00ce":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e._t("traceBanner"),e.rows?t("SortableTable",{attrs:{rows:e.rows,headers:e.TRACE_HEADERS,"group-by":e.groupField,"table-actions":!1,"row-actions":!1,"key-field":"traceID","default-sort-by":"startTime","sub-expandable":!0,"sub-expand-column":!0,"sub-rows":!0,paging:!0,"rows-per-page":e.rowsPerPage},scopedSlots:e._u([{key:"col:operation",fn:function(a){var r=a.row;return[t("td",[t("BadgeState",{attrs:{label:r.operation,color:e.opColor(r.operation)}})],1)]}},{key:"col:mode",fn:function(a){var r=a.row;return[t("td",[t("BadgeState",{attrs:{label:e.capitalizeMessage(r.mode),color:e.modeColor(r.mode)}})],1)]}},{key:"sub-row",fn:function(a){var r=a.row,s=a.fullColspan;return[t("td",{staticClass:"sub-row",attrs:{colspan:s}},[t("div",{staticClass:"details"},[e.showLogs(r.logs)?[t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" Response ")]),r.logs.response?t("span",{staticClass:"text-info"},[e._v(" "+e._s(e.capitalizeMessage(r.logs.response))+" ")]):t("span",[e._v(" N/A ")])])]:[t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" Response Message ")]),r.response_message?t("span",{staticClass:"text-warning"},[e._v(" "+e._s(e.capitalizeMessage(r.response_message))+" ")]):t("span",[e._v(" N/A ")])]),t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" Response Code ")]),t("span",{staticClass:"text-info"},[e._v(" "+e._s(r.response_code?r.response_code:"N/A")+" ")])]),t("section",{staticClass:"col"},[t("div",{staticClass:"title"},[e._v(" Mutated ")]),t("span",{staticClass:"text-info"},[e._v(" "+e._s(r.mutated)+" ")])])]],2)])]}}],null,!1,877644766)}):e._e()],2)},s=[],o=t("e24b"),i=t("f17a"),n=t("0fb1"),l=t("465c"),c=t("90cd"),d={props:{rows:{type:Array,default:()=>[]}},components:{BadgeState:i["a"],SortableTable:n["b"]},data(){return{MODE_MAP:l["b"],TRACE_HEADERS:l["g"],OPERATION_MAP:l["d"]}},computed:{groupField(){return this.isPolicyServer?"policy_id":null},isPolicyServer(){return this.$route.params.resource===c["a"].POLICY_SERVER},rowsPerPage(){return this.isPolicyServer?40:20}},methods:{capitalizeMessage(e){return(null===e||void 0===e?void 0:e.charAt(0).toUpperCase())+(null===e||void 0===e?void 0:e.slice(1))},modeColor(e){return this.MODE_MAP[e]},opColor(e){return this.OPERATION_MAP[e]},showLogs(e){return!Object(o["h"])(e)}}},u=d,p=(t("2592"),t("d802")),v=Object(p["a"])(u,r,s,!1,null,"461dc2a4",null);a["a"]=v.exports},"1a24":function(e,a,t){var r=t("bafc");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=t("0ed3").default;s("51e1da78",r,!0,{sourceMap:!1,shadowMode:!1})},2592:function(e,a,t){"use strict";t("5730")},"284d":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.$fetchState.pending?t("Loading"):t("div",[t("div",{staticClass:"mb-20"},[t("h3",[e._v(e._s(e.t("namespace.resources")))])]),t("ResourceTabs",{attrs:{mode:e.mode},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}},[t("Tab",{attrs:{name:"related-policies",label:"Policies",weight:99},scopedSlots:e._u([{key:"default",fn:function(){return[t("ResourceTable",{attrs:{rows:e.relatedPolicies,headers:e.RELATED_HEADERS,groupable:!0,"group-by":"kind","table-actions":!0},scopedSlots:e._u([{key:"col:operation",fn:function(a){var r=a.row;return[t("td",[t("BadgeState",{attrs:{label:r.operation,color:e.color(r.operation)}})],1)]}},{key:"col:mode",fn:function(a){var r=a.row;return[t("td",[t("span",{staticClass:"policy__mode"},[t("span",{staticClass:"text-capitalize"},[e._v(e._s(r.spec.mode))]),e.hasNamespaceSelector(r)?t("i",{directives:[{name:"tooltip",rawName:"v-tooltip.bottom",value:e.t("kubewarden.policies.namespaceWarning"),expression:"t('kubewarden.policies.namespaceWarning')",modifiers:{bottom:!0}}],staticClass:"icon icon-warning"}):e._e()])])]}}])})]},proxy:!0}])}),e.metricsService?t("Tab",{attrs:{name:"policy-metrics",label:"Metrics",weight:98},scopedSlots:e._u([{key:"default",fn:function(a){return[a.active?t("DashboardMetrics",{attrs:{"detail-url":e.metricsProxy,"summary-url":e.metricsProxy,"graph-height":"825px"}}):e._e()]}}],null,!1,3385188057)}):e._e(),t("Tab",{attrs:{name:"policy-tracing",label:"Tracing",weight:97}},[[t("TraceTable",{attrs:{rows:e.tracesRows},scopedSlots:e._u([{key:"traceBanner",fn:function(){return[e.emptyTraces?t("Banner",{attrs:{color:"warning"}},[e.jaegerService?t("span",[e._v(e._s(e.t("kubewarden.tracing.noRelatedTraces")))]):t("span",{domProps:{innerHTML:e._s(e.t("kubewarden.tracing.noJaeger",{},!0))}})]):e._e()]},proxy:!0}])})]],2)],1)],1)},s=[],o=t("9ce4"),i=t("da25"),n=t("b45b"),l=t("f390"),c=t("305c"),d=t("6418"),u=t("c389"),p=t("15ca"),v=t("c422"),b=t("126f"),f=t("38de"),m=t("3ca3"),h=t("00ce"),g={name:"PolicyServer",components:{Banner:d["a"],DashboardMetrics:u["a"],Loading:p["a"],ResourceTabs:v["a"],ResourceTable:b["a"],Tab:f["a"],TraceTable:h["a"]},mixins:[c["a"]],props:{mode:{type:String,default:i["u"]},value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["clusterId"];if(this.relatedPolicies=await this.value.allRelatedPolicies(),this.monitoringStatus.installed)try{this.metricsProxy=await this.value.grafanaProxy(),this.metricsProxy&&(this.metricsService=await Object(n["b"])(this.$store,e,this.metricsProxy))}catch(a){console.error("Error fetching Grafana service: "+a)}this.jaegerService=await this.value.jaegerService(),this.traces=await this.value.jaegerProxies()},data(){return{RELATED_HEADERS:m["RELATED_HEADERS"],jaegerService:null,jaegerProxies:null,metricsProxy:null,metricsService:null,relatedPolicies:null,traces:null}},computed:{...Object(o["a"])(["currentCluster"]),...Object(l["d"])(),emptyTraces(){return!this.traces||!this.traces.find(e=>e.data.length)},tracesRows(){return this.value.traceTableRows(this.traces)}},methods:{hasNamespaceSelector(e){return e.namespaceSelector}}},w=g,y=(t("d9ce"),t("d802")),_=Object(y["a"])(w,r,s,!1,null,"8b1dd44e",null);a["default"]=_.exports},5547:function(e,a,t){var r=t("9109");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=t("0ed3").default;s("9b726ab8",r,!0,{sourceMap:!1,shadowMode:!1})},5730:function(e,a,t){var r=t("fb78");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);var s=t("0ed3").default;s("33b00e92",r,!0,{sourceMap:!1,shadowMode:!1})},"733f":function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.$fetchState.pending?t("Loading"):t("div",[t("div",{staticClass:"mb-20"},[t("h3",[e._v(e._s(e.t("namespace.resources")))])]),t("ResourceTabs",{attrs:{mode:e.mode,"need-related":e.hasRelationships},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}},[t("Tab",{attrs:{name:"policy-rules",label:"Rules",weight:99}},[t("RulesTable",{attrs:{rows:e.rulesRows}})],1),t("Tab",{attrs:{name:"policy-tracing",label:"Tracing",weight:98}},[t("TraceTable",{attrs:{rows:e.tracesRows},scopedSlots:e._u([{key:"traceBanner",fn:function(){return[e.emptyTraces?t("Banner",{attrs:{color:"warning"}},[e.jaegerService?t("span",[e._v(e._s(e.t("kubewarden.tracing.noTraces")))]):t("span",{domProps:{innerHTML:e._s(e.t("kubewarden.tracing.noJaeger",{},!0))}})]):e._e()]},proxy:!0}])})],1),e.metricsService?t("Tab",{attrs:{name:"policy-metrics",label:"Metrics",weight:97},scopedSlots:e._u([{key:"default",fn:function(a){return[a.active?t("DashboardMetrics",{attrs:{"detail-url":e.metricsProxy,"summary-url":e.metricsProxy,vars:e.dashboardVars,"graph-height":"825px"}}):e._e()]}}],null,!1,4240560811)}):e._e()],1)],1)},s=[],o=t("58d7"),i=t.n(o),n=t("da25"),l=t("f390"),c=t("b45b"),d=t("305c"),u=t("6418"),p=t("c389"),v=t("15ca"),b=t("c422"),f=t("38de"),m=t("8e65"),h=t("00ce"),g={name:"AdmissionPolicy",components:{Banner:u["a"],DashboardMetrics:p["a"],Loading:v["a"],ResourceTabs:b["a"],RulesTable:m["a"],Tab:f["a"],TraceTable:h["a"]},mixins:[d["a"]],props:{mode:{type:String,default:n["u"]},resource:{type:String,default:null},value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["clusterId"];if(this.metricsProxy=await this.value.grafanaProxy(),this.monitoringStatus.installed)try{this.metricsProxy=await this.value.grafanaProxy(),this.metricsProxy&&(this.metricsService=await Object(c["b"])(this.$store,e,this.metricsProxy))}catch(a){console.error("Error fetching Grafana service: "+a)}this.jaegerService=await this.value.jaegerService(),this.traces=await this.value.jaegerProxy()||[],this.traces.length>1&&(this.traces=i()(this.traces))},data(){return{jaegerService:null,metricsProxy:null,metricsService:null,traces:null}},computed:{...Object(l["d"])(),dashboardVars(){var e;const a=null===(e=this.value)||void 0===e?void 0:e.id.replace("/","-");return{policy_name:"namespaced-"+a}},emptyTraces(){return!this.traces||!this.traces.find(e=>e.data.length)},hasMetricsTabs(){return this.metricsService},hasRelationships(){var e;return!(null===(e=this.value.metadata)||void 0===e||!e.relationships)},rulesRows(){var e;return null===(e=this.value.spec)||void 0===e?void 0:e.rules},tracesRows(){return this.value.traceTableRows(this.traces)}}},w=g,y=(t("87fa"),t("d802")),_=Object(y["a"])(w,r,s,!1,null,"10e71f1e",null);a["default"]=_.exports},"87fa":function(e,a,t){"use strict";t("5547")},"8e65":function(e,a,t){"use strict";var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[e.rows.length>0?t("SortableTable",{attrs:{rows:e.rows,headers:e.RULE_HEADERS,"table-actions":!1,"row-actions":!1,"key-field":"traceID","default-sort-by":"startTime"},scopedSlots:e._u([{key:"col:apiGroup",fn:function(a){var r=a.row;return[t("td",[t("span",[e._v(e._s(r.apiGroups))])])]}},{key:"col:apiVersion",fn:function(a){var r=a.row;return[t("td",[t("span",[e._v(e._s(r.apiVersions))])])]}},{key:"col:operations",fn:function(a){var r=a.row;return[t("td",[t("span",[e._v(e._s(e.joinColumn(r.operations)))])])]}},{key:"col:resources",fn:function(a){var r=a.row;return[t("td",[t("span",[e._v(e._s(e.joinColumn(r.resources)))])])]}}],null,!1,8763529)}):t("div",[t("Banner",{staticClass:"type-banner mb-20 mt-0",attrs:{color:"warning",label:e.t("kubewarden.policies.noRules")}})],1)],1)},s=[],o=t("6418"),i=t("0fb1"),n=t("465c"),l={props:{rows:{type:Array,default:()=>[]}},components:{Banner:o["a"],SortableTable:i["b"]},data(){return{RULE_HEADERS:n["f"]}},methods:{joinColumn(e){return(null===e||void 0===e?void 0:e.join(", "))||""}}},c=l,d=t("d802"),u=Object(d["a"])(c,r,s,!1,null,null,null);a["a"]=u.exports},9109:function(e,a,t){var r=t("5eaa");a=r(!1),a.push([e.i,'.clearfix[data-v-10e71f1e]:after,.clearfix[data-v-10e71f1e]:before{content:" ";display:table}.clearfix[data-v-10e71f1e]:after{clear:both}.list-unstyled[data-v-10e71f1e]{margin:0;padding:0;list-style-type:none}.no-select[data-v-10e71f1e]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-10e71f1e]{resize:none}.hand[data-v-10e71f1e]{cursor:pointer;cursor:hand}.fixed[data-v-10e71f1e]{table-layout:fixed}.clip[data-v-10e71f1e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-10e71f1e],.force-wrap[data-v-10e71f1e]{word-wrap:break-word}.force-wrap[data-v-10e71f1e]{white-space:normal}.bordered-section[data-v-10e71f1e]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-10e71f1e]{margin-bottom:20px;margin-top:20px}.sub-row[data-v-10e71f1e]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.details[data-v-10e71f1e]{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);gap:1em}.details .col[data-v-10e71f1e]{display:flex;flex-direction:column}.details .col section[data-v-10e71f1e]{margin-bottom:1.5rem}.details .col .title[data-v-10e71f1e]{color:var(--muted);margin-bottom:.5rem}',""]),e.exports=a},b3e2:function(e,a,t){"use strict";t.r(a);var r=function(){var e=this,a=e.$createElement,t=e._self._c||a;return e.$fetchState.pending?t("Loading"):t("div",[t("div",{staticClass:"mb-20"},[t("h3",[e._v(e._s(e.t("namespace.resources")))])]),t("ResourceTabs",{attrs:{mode:e.mode,"need-related":e.hasRelationships},model:{value:e.value,callback:function(a){e.value=a},expression:"value"}},[e.rulesRows?t("Tab",{attrs:{name:"policy-rules",label:"Rules",weight:99}},[t("RulesTable",{attrs:{rows:e.rulesRows}})],1):e._e(),t("Tab",{attrs:{name:"policy-tracing",label:"Tracing",weight:98}},[t("TraceTable",{attrs:{rows:e.tracesRows},scopedSlots:e._u([{key:"traceBanner",fn:function(){return[e.emptyTraces?t("Banner",{attrs:{color:"warning"}},[e.jaegerService?t("span",[e._v(e._s(e.t("kubewarden.tracing.noTraces")))]):t("span",{domProps:{innerHTML:e._s(e.t("kubewarden.tracing.noJaeger",{},!0))}})]):e._e()]},proxy:!0}])})],1),e.metricsService?t("Tab",{attrs:{name:"policy-metrics",label:"Metrics",weight:97},scopedSlots:e._u([{key:"default",fn:function(a){return[a.active?t("DashboardMetrics",{attrs:{"detail-url":e.metricsProxy,"summary-url":e.metricsProxy,vars:e.dashboardVars,"graph-height":"825px"}}):e._e()]}}],null,!1,4240560811)}):e._e()],1)],1)},s=[],o=t("9ce4"),i=t("58d7"),n=t.n(i),l=t("da25"),c=t("f390"),d=t("b45b"),u=t("305c"),p=t("6418"),v=t("c389"),b=t("15ca"),f=t("c422"),m=t("38de"),h=t("8e65"),g=t("00ce"),w={name:"ClusterAdmissionPolicy",components:{Banner:p["a"],DashboardMetrics:v["a"],Loading:b["a"],ResourceTabs:f["a"],RulesTable:h["a"],Tab:m["a"],TraceTable:g["a"]},mixins:[u["a"]],props:{mode:{type:String,default:l["u"]},resource:{type:String,default:null},value:{type:Object,required:!0}},async fetch(){const e=this.$store.getters["clusterId"];if(this.metricsProxy=await this.value.grafanaProxy(),this.monitoringStatus.installed)try{this.metricsProxy=await this.value.grafanaProxy(),this.metricsProxy&&(this.metricsService=await Object(d["b"])(this.$store,e,this.metricsProxy))}catch(a){console.error("Error fetching Grafana service: "+a)}this.jaegerService=await this.value.jaegerService(),this.traces=await this.value.jaegerProxy()||[],this.traces.length>1&&(this.traces=n()(this.traces))},data(){return{jaegerService:null,metricsProxy:null,metricsService:null,traces:null}},computed:{...Object(o["a"])(["currentCluster"]),...Object(c["d"])(),dashboardVars(){var e;return{policy_name:"clusterwide-"+(null===(e=this.value)||void 0===e?void 0:e.id)}},emptyTraces(){return!this.traces||!this.traces.find(e=>e.data.length)},hasMetricsTabs(){return this.metricsService},hasRelationships(){var e;return!(null===(e=this.value.metadata)||void 0===e||!e.relationships)},rulesRows(){var e;return null===(e=this.value.spec)||void 0===e?void 0:e.rules},tracesRows(){return this.value.traceTableRows(this.traces)}}},y=w,_=t("d802"),x=Object(_["a"])(y,r,s,!1,null,null,null);a["default"]=x.exports},bafc:function(e,a,t){var r=t("5eaa");a=r(!1),a.push([e.i,'.clearfix[data-v-8b1dd44e]:after,.clearfix[data-v-8b1dd44e]:before{content:" ";display:table}.clearfix[data-v-8b1dd44e]:after{clear:both}.list-unstyled[data-v-8b1dd44e]{margin:0;padding:0;list-style-type:none}.no-select[data-v-8b1dd44e]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-8b1dd44e]{resize:none}.hand[data-v-8b1dd44e]{cursor:pointer;cursor:hand}.fixed[data-v-8b1dd44e]{table-layout:fixed}.clip[data-v-8b1dd44e]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-8b1dd44e],.force-wrap[data-v-8b1dd44e]{word-wrap:break-word}.force-wrap[data-v-8b1dd44e]{white-space:normal}.bordered-section[data-v-8b1dd44e]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-8b1dd44e]{margin-bottom:20px;margin-top:20px}.policy__mode[data-v-8b1dd44e]{display:flex;align-items:center}.policy__mode i[data-v-8b1dd44e]{margin-left:5px;font-size:22px;color:var(--warning)}',""]),e.exports=a},d9ce:function(e,a,t){"use strict";t("1a24")},fb78:function(e,a,t){var r=t("5eaa");a=r(!1),a.push([e.i,'.clearfix[data-v-461dc2a4]:after,.clearfix[data-v-461dc2a4]:before{content:" ";display:table}.clearfix[data-v-461dc2a4]:after{clear:both}.list-unstyled[data-v-461dc2a4]{margin:0;padding:0;list-style-type:none}.no-select[data-v-461dc2a4]{-webkit-user-select:none;-moz-user-select:none;user-select:none}.no-resize[data-v-461dc2a4]{resize:none}.hand[data-v-461dc2a4]{cursor:pointer;cursor:hand}.fixed[data-v-461dc2a4]{table-layout:fixed}.clip[data-v-461dc2a4]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.clip[data-v-461dc2a4],.force-wrap[data-v-461dc2a4]{word-wrap:break-word}.force-wrap[data-v-461dc2a4]{white-space:normal}.bordered-section[data-v-461dc2a4]{border-bottom:1px solid var(--border);margin-bottom:20px;padding-bottom:20px}.section-divider[data-v-461dc2a4]{margin-bottom:20px;margin-top:20px}.sub-row[data-v-461dc2a4]{background-color:var(--body-bg);border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.details[data-v-461dc2a4]{display:grid;grid-auto-flow:column;grid-auto-columns:minmax(0,1fr);gap:1em}.details .col[data-v-461dc2a4]{display:flex;flex-direction:column}.details .col section[data-v-461dc2a4]{margin-bottom:1.5rem}.details .col .title[data-v-461dc2a4]{color:var(--muted);margin-bottom:.5rem}',""]),e.exports=a}}]);
//# sourceMappingURL=kubewarden-0.1.1.umd.min.detail.js.map